# 251207 TIL

## Kafka
- 대규모 메시지 스트리밍 플랫폼으로, 주로 실시간 데이터 처리에 사용

| 개념                 | 설명                                                                                             |
| ------------------ | ---------------------------------------------------------------------------------------------- |
| **Producer**       | 메시지를 Kafka의 토픽(topic)에 전송하는 역할을 하는 클라이언트.                                                      |
| **Consumer**       | Kafka에서 메시지를 구독하고 처리하는 클라이언트.                                                                  |
| **Topic**          | 메시지를 전송하는 카테고리 또는 채널. Producer는 특정 토픽에 메시지를 보낸다.                                               |
| **Partition**      | 각 토픽은 여러 파티션으로 나누어져, 분산 처리와 병렬 처리의 효율성을 높인다.                                                   |
| **Broker**         | Kafka 클러스터 내에서 데이터를 저장하고 메시지를 관리하는 서버.                                                         |
| **ZooKeeper**      | Kafka 클러스터의 메타데이터 관리 및 클러스터의 상태를 모니터링하는 역할을 한다. (Kafka 2.8.0부터는 Zookeeper 없이 실행 가능)            |
| **Consumer Group** | 여러 Consumer들이 하나의 그룹으로 묶여서 메시지를 처리하는 방식. 동일한 Consumer Group 내의 Consumer들은 동일한 메시지를 중복 수신하지 않음. |
| **Offset**         | Consumer가 Kafka에서 메시지를 처리한 위치를 나타내는 지표.                                                        |

- 내구성 : 메시지가 브로커에 저장되며, 디스크에 영구적으로 기록되어 장애가 발생해도 데이터 손실을 최소화
- 확장성 : 파티션과 복제 기능을 통해 높은 확장성을 제공

## Redis
- 인메모리 데이터베이스로, 주로 캐시나 실시간 메시지 시스템으로 사용

| 개념                | 설명                                                                                      |
| ----------------- | --------------------------------------------------------------------------------------- |
| **Publisher**     | 메시지를 Redis의 채널에 발행하는 클라이언트.                                                             |
| **Subscriber**    | Redis의 채널을 구독하고, 채널에 메시지가 발행되면 이를 수신하는 클라이언트.                                           |
| **Channel**       | Redis에서 메시지를 발행하고 구독하는 논리적 채널.                                                          |
| **Pub/Sub**       | Redis에서 제공하는 메시지 발행/구독 기능. Publisher는 메시지를 채널에 발행하고, Subscriber는 해당 채널을 구독하여 메시지를 수신한다. |
| **Message Queue** | Redis는 Pub/Sub 외에도 큐(queue)와 같은 데이터 구조를 제공하여 메시지 기반의 비동기 처리 시스템을 구현할 수 있다.              |
| **Persistence**   | Redis는 기본적으로 메모리 기반 저장소지만, 필요에 따라 디스크에 데이터를 저장할 수 있는 기능을 제공한다. (RDB, AOF 등)             |


## SSE(Server-Sent Events)

| 개념               | 설명                                                        |
| ---------------- | --------------------------------------------------------- |
| **SSE**          | 서버가 클라이언트로 실시간 데이터를 푸시하는 기술로, HTTP 프로토콜을 사용합니다.           |
| **EventSource**  | 클라이언트 측에서 서버로부터의 SSE 이벤트를 수신하기 위한 JavaScript 객체.          |
| **Stream**       | 서버에서 클라이언트로 데이터를 실시간으로 스트리밍하는 방식.                         |
| **Event ID**     | 각 SSE 이벤트에 대해 고유한 식별자를 부여하여 클라이언트가 이벤트의 순서를 추적할 수 있도록 한다. |
| **Content-Type** | SSE는 `text/event-stream` 형식의 콘텐츠 타입을 사용하여 서버에서 전송됩니다.     |
| **Reconnection** | 클라이언트가 연결이 끊어졌을 때 서버와 자동으로 재연결하는 기능을 지원합니다.               |


## Redis와 Kafka의 Pub/Sub 시스템 차이

| 특성         | Redis Pub/Sub                             | Kafka Pub/Sub                                                                   |
| ---------- | ----------------------------------------- | ------------------------------------------------------------------------------- |
| **데이터 저장** | 메시지가 구독자에게 전달되면 저장되지 않고, 전달 후 즉시 사라짐.     | 메시지는 로그 형태로 저장되며, 여러 번 소비할 수 있음.                                                |
| **확장성**    | Redis는 하나의 인스턴스에서 처리할 수 있는 메시지 수에 제한이 있음. | Kafka는 클러스터링과 파티셔닝을 통해 수평 확장 가능.                                                |
| **내구성**    | 메시지 손실이 발생할 수 있음.                         | 메시지가 브로커에 저장되므로 높은 내구성을 제공.                                                     |
| **구성**     | 단일 채널에 여러 Subscriber가 메시지를 실시간으로 받음.      | 여러 Consumer가 동일한 Consumer Group 내에서 메시지를 처리하거나, 여러 Consumer가 동일한 메시지를 받아 처리 가능. |
