# 251214 TIL

## 동기, 비동기 통신

| 특징 | 동기 통신 (REST/Feign) | 비동기 통신 (Kafka/RabbitMQ) |
| :--- | :--- | :--- |
| **결합도** | 높음<br>수신 서비스가 실행 중이어야 함 | 낮음<br>생산자와 소비자의 분리 |
| **응답성** | 즉시 응답<br>(Real-time) | 최종 일관성<br>(Eventual Consistency) |
| **장애 전파** | 쉬움<br>(Timeout 설정 필수) | 어려움<br>(메시지 브로커가 완충) |
| **사용 사례** | 단순 조회, 즉각적인 결과 필요 시 | 주문 완료 알림, 로그 수집, 트랜잭션 분리 |

## CAP

| 요소 | 설명 | MSA에서의 적용 |
| :--- | :--- | :--- |
| **Consistency(일관성)** | 모든 노드가 같은 시간에 같은 데이터를 보여줌 | 강한 일관성이 필요하면 성능/가용성 타협 |
| **Availability(가용성)** | 모든 요청에 대해 정상 응답을 보장함 | 장애 시에도 서비스가 죽지 않는 것을 최우선 |
| **Partition Tolerance(분할 내성)** | 네트워크 단절 시에도 시스템이 동작함 | **MSA의 필수 조건** |
| **결론** | **CP** (일관성 중시) vs **AP** (가용성 중시) 선택 | 대부분의 MSA 서비스는 **AP + 최종 일관성**을 지향 |

## 
| 구분 | 관리 주체 (User/AWS) | 특징 | AWS 대표 서비스 | 
| :--- | :--- | :--- | :--- |
| **IaaS** | **User:** OS, App, Data<br>**AWS:** 물리 서버, 네트워크 | 가장 높은 자유도, 높은 관리 복잡도 | **EC2**, EBS, VPC | 
| **CaaS** | **User:** Container, App<br>**AWS:** OS, Container Engine | 컨테이너 오케스트레이션 관리 | **ECS, EKS** |
| **PaaS** | **User:** App, Data<br>**AWS:** OS, Runtime | 코드 배포에만 집중, 환경 자동 구성 | **Elastic Beanstalk** | 
| **FaaS** | **User:** Code (Function)<br>**AWS:** 실행 환경 전체 | 이벤트 구동, 실행 시간만 과금 | **Lambda** | 
| **SaaS** | **User:** 사용(설정)<br>**AWS:** 모든 것 | 즉시 사용 가능, 커스터마이징 제약 | **Chime**, WorkMail | 