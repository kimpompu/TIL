# 260110 TIL

## 로드 밸런싱(Load Balancing)이 무엇이며, 이를 통해 얻을 수 있는 이점은 무엇인가요?

* **로드 밸런싱** 
    * 네트워크 트래픽이나 클라이언트 요청을 여러 대의 서버로 균등하게 분산시켜 주는 기술
    * 특정 서버에 부하가 집중되는 것을 방지하여 시스템의 전체적인 처리량을 늘리고 응답 속도를 최적화 
    * 하나의 서버가 다운되더라도 다른 정상 서버로 트래픽을 돌려 서비스 중단을 막는 **고가용성** 보장



## 마이크로서비스 아키텍처(MSA)에서 서비스 간 통신을 위한 메시지 브로커(Message Broker)를 사용하는 이유를 설명해 주세요.

서비스 간에 직접 통신(REST API 등)을 하면 요청을 보내는 쪽과 받는 쪽이 강하게 결합되어 장애가 전파될 위험이 있음 **Kafka**나 **RabbitMQ** 같은 메시지 브로커를 사용하면 메시지를 보내놓고 즉시 응답을 기다리지 않아도 되는 **비동기 통신** 가능. 이는 시스템 간의 **결합도(Coupling)**를 낮추고, 트래픽 폭주 시 브로커가 메시지를 보관하여 소비하는 쪽의 부하를 조절하는 역할 함.


## 분산 트랜잭션(Distributed Transaction)이란 무엇이며, 이를 관리하는 방법을 설명해 주세요.
* **분산 트랜잭션** : MSA 환경에서는 서비스마다 데이터베이스가 분리되어 있어, 여러 서비스에 걸친 작업을 하나의 트래픽으로 묶기 어려움. 
### 분산 트랜잭션 관리 방법
* **2PC(Two-Phase Commit)** 프로토콜을 사용
* 각 서비스가 로컬 트랜잭션을 순차적으로 수행하고 실패 시 보상 트랜잭션을 실행하는 **Saga 패턴** 사용

## 클라우드에서의 오토스케일링(Auto-scaling)이 무엇이며, 이를 구현할 때 고려해야 할 요소는 무엇인가요?

* **오토스케일링** : CPU 사용률, 메모리, 요청 수 등의 메트릭을 모니터링하다가 부하가 증가하면 자동으로 서버(인스턴스) 수를 늘리고(Scale-out), 부하가 감소하면 줄이는(Scale-in) 기능

### 고려사항
* 새로운 서버가 투입되어 실제 서비스를 시작하기까지 걸리는 **Warm-up 시간**
* 너무 잦은 스케일링을 방지하는 **쿨다운(Cooldown) 기간**
* 무한 과금을 방지하기 위한 **최대 인스턴스 제한** 



## Kubernetes의 역할과 사용 이유에 대해 설명해 주세요.

* **Kubernetes(K8s)** : 다수의 컨테이너를 효율적으로 배포, 확장, 관리하기 위한 오픈소스 오케스트레이션 플랫폼. 

수백, 수천 개의 컨테이너를 사람이 수동으로 관리하는 것은 불가능에 가까움. 쿠버네티스는 컨테이너의 자동 배포, 스케일링, 로드 밸런싱, 장애 발생 시 자동 복구(Self-healing) 기능을 제공하여 운영 자동화와 안정성을 보장



## AWS, GCP, Azure와 같은 클라우드 서비스 제공자가 제공하는 주요 서비스에 대해 설명해 주세요.

### IaaS, PaaS, SaaS 서비스
* **AWS** : 컴퓨팅의 EC2, 스토리지의 S3, 데이터베이스의 RDS, 서버리스의 Lambda 등이 대표적임.
* **GCP** : 데이터 분석과 머신러닝에 강점이 있으며 BigQuery, GKE(Google Kubernetes Engine) 등이 유명함.
* **Azure** : Windows 기반 엔터프라이즈 환경과 호환성이 좋으며 Azure Virtual Machines, Azure SQL Database 등을 제공함.

## 분산 시스템에서 데이터 일관성(Consistency)과 가용성(Availability)의 트레이드오프를 설명해 주세요.

분산 시스템에서 데이터를 여러 노드에 복제할 때, 모든 노드가 항상 똑같은 데이터를 즉시 유지하려면(강한 일관성) 데이터를 잠그거나 동기화하는 시간이 필요해 응답 속도와 가용성이 떨어짐. 반대로 가용성을 높여 언제든 빠르게 응답하게 하려면, 일시적으로 노드 간 데이터가 다를 수 있는 상황(최종 일관성)을 허용해야 함. 

## CAP 이론이란 무엇이며, 분산 시스템에서 어떻게 적용되는지 설명해 주세요.

### 분산 시스템의 3가지 속성
**CAP 이론**은 분산 시스템에서 일관성(Consistency), 가용성(Availability), 분할 내성(Partition Tolerance) 세 가지를 모두 만족할 수는 없으며, **최대 두 가지**만 선택할 수 있다는 원칙임. 네트워크 장애는 피할 수 없으므로 P(분할 내성)는 기본으로 가져가고, **CP(일관성 우선)** 시스템인지 **AP(가용성 우선)** 시스템인지를 비즈니스 요구사항에 맞춰 선택해야 함.



## 클라우드 환경에서의 데이터 백업과 복구 전략에 대해 설명해 주세요.

데이터 손실이나 랜섬웨어, 리전 장애 등에 대비하기 위해 **스냅샷(Snapshot)**을 주기적으로 생성하여 S3와 같은 내구성 높은 스토리지에 저장함. 또한, **교차 리전 복제(Cross-Region Replication)**를 통해 물리적으로 떨어진 다른 리전에도 백업본을 저장하여 재해 발생 시 복구할 수 있는 DR(Disaster Recovery) 전략을 수립함. 특정 시점으로 되돌릴 수 있는 PITR(Point-in-Time Recovery) 기능도 활용함.

## 컨테이너 기반 마이크로서비스 아키텍처를 운영할 때의 장점과 단점을 설명해 주세요.

### 이식성과 복잡성
**장점**은 애플리케이션 실행 환경을 컨테이너로 패키징하여 개발과 운영 환경의 일치성을 보장하고, 서비스별 독립적인 배포와 확장이 빠르고 유연하다는 점임.
**단점**은 관리해야 할 컨테이너 수가 급증하여 모니터링과 로깅이 복잡해지고, 서비스 간 통신으로 인한 네트워크 오버헤드와 트랜잭션 관리의 어려움이 발생한다는 점임.