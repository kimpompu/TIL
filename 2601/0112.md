# 260112 TIL

## 우리가 사용하는 시스템 콜의 예시를 들어주세요.
* 시스템 콜 : 운영체제의 기능을 사용자 프로그램이 사용할 수 있도록 제공하는 인터페이스

### 주요 시스템 콜 예시
* **프로세스 제어** : `fork()`(새 프로세스 생성), `exit()`(프로세스 종료), `wait()`(자식 프로세스 대기)
* **파일 관리** : `open()`(파일 열기), `read()`(데이터 읽기), `write()`(데이터 쓰기), `close()`(파일 닫기)
* **장치 관리** : `ioctl()`(입출력 제어), `read()`, `write()`
* **정보 유지** : `getpid()`(현재 프로세스 ID 획득), `time()`(시스템 시간 획득)
* **통신** : `pipe()`(파이프 생성), `socket()`(네트워크 소켓 생성)

---

## 시스템 콜이, 운영체제에서 어떤 과정으로 실행되는지 설명해 주세요.

### 실행 메커니즘
1. **호출 :** 사용자 프로그램이 라이브러리 함수(API)를 통해 시스템 콜을 요청합
2. **트랩(Trap) 발생 :** CPU에 소프트웨어 인터럽트(트랩)를 발생시켜 제어권을 커널로 넘김
3. **모드 전환 :** 하드웨어의 모드 비트가 유저 모드(1)에서 커널 모드(0)로 전환
4. **서비스 루틴 탐색 :** 커널은 시스템 콜 번호를 바탕으로 **시스템 콜 테이블**에서 해당 서비스 루틴의 주소를 찾음
5. **실행 :** 커널 모드에서 해당 시스템 콜 서비스 루틴을 수행
6. **복귀 :** 작업 완료 후 모드 비트를 다시 **유저 모드(1)로** 전환하고 사용자 프로그램으로 복귀



---

## 시스템 콜의 유형에 대해 설명해 주세요.

### 5가지 주요 범주
1. **프로세스 제어 :** 프로세스 생성, 종료, 대기, 신호 전달 등을 관리
2. **파일 관리 :** 파일의 생성, 삭제, 읽기, 쓰기, 속성 변경 등을 담당
3. **장치 관리 :** 장치의 요구 및 해제, 데이터 입출력 등을 처리
4. **정보 유지 :** 시스템 시간, 날짜, 시스템 구성 정보 등을 관리
5. **통신 :** 프로세스 간 통신(IPC), 네트워크 연결 및 데이터 송수신 담당

---

## 운영체제의 Dual Mode 에 대해 설명해 주세요.

### 정의
* **듀얼 모드** : 시스템 보호를 위해 CPU 실행 모드를 하드웨어적으로 분리한 것

### 구성
* **유저 모드 :** 사용자 프로그램이 실행되는 모드. 하드웨어 직접 접근이 제한되며 특권 명령을 실행할 수 없음 `Mode Bit = 1`
* **커널 모드 :** 운영체제 커널이 실행되는 모드. 모든 CPU 명령어와 하드웨어 자원에 대한 완전한 접근 권한을 가짐 `Mode Bit = 0`



---

## 왜 유저모드와 커널모드를 구분해야 하나요?

### 구분 사유
1. **시스템 보호 :** 사용자 프로그램의 오류나 악의적인 코드가 커널 영역이나 다른 프로그램의 메모리를 침범하여 시스템 전체가 붕괴되는 것을 방지
2. **보안 :** 중요한 시스템 설정이나 데이터에 대한 접근을 운영체제 통제하에 두어 무단 접근을 차단
3. **공정성 및 효율성 :** CPU 스케줄링이나 입출력 장치 관리를 운영체제가 전담함으로써 자원 충돌을 막고 효율적인 배분을 보장

---

## 서로 다른 시스템 콜을 어떻게 구분할 수 있을까요?

### 식별 메커니즘
**운영체제는 수백 개의 시스템 콜을 식별하기 위해 고유 번호 시스템을 사용**

* **시스템 콜 번호:** 각 시스템 콜에 고유한 정수 번호가 할당
* **레지스터 활용:** 사용자 프로그램이 시스템 콜을 요청할 때, CPU의 특정 레지스터 ex) x86-64의 `rax` 에 해당 번호를 저장
* **인덱싱:** 커널은 트랩 발생 시 해당 레지스터의 번호를 확인하고, **시스템 콜 테이블** 에서 해당 인덱스에 저장된 함수 주소로 점프하여 실행