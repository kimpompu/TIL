# 260118 TIL

## DHCP가 무엇인지 설명해 주세요.

### 정의 및 역할
`DHCP` : Dynamic Host Configuration Protocol. 호스트가 네트워크에 접속할 때 IP 주소, 서브넷 마스크, 기본 게이트웨이 등의 설정 정보를 자동으로 할당해 주는 클라이언트-서버 프로토콜. IP 주소 관리의 효율성을 높이고 수동 설정에 따른 오류를 방지함.

---

## DHCP는 몇 계층 프로토콜인가요?

### 계층 분류
`Application Layer` : OSI 7계층 모델 기준으로 `응용 계층`에 속함. 하위 계층인 `UDP`를 통해 데이터를 전송하며 네트워크 계층의 주소 정보를 구성하는 역할

---

## DHCP는 어떻게 동작하나요?

### 동작 과정(DORA)
1. **Discover :** 클라이언트가 네트워크상의 DHCP 서버를 찾기 위해 브로드캐스트 메시지를 전송함
2. **Offer :** 메시지를 받은 서버가 클라이언트에게 사용 가능한 IP 주소와 기타 옵션 정보를 제안함
3. **Request :** 클라이언트가 제안받은 주소를 사용하겠다고 서버에 요청을 보냄
4. **Acknowledgment :** 서버가 최종적으로 승인하며 임대 시간 등 최종 설정 정보를 전달



---

## DHCP에서 UDP를 사용하는 이유가 무엇인가요?

### 채택 이유
1. **비연결성 :** IP 주소가 없는 상태에서는 TCP 핸드셰이크를 통한 연결 확립이 불가능
2. **브로드캐스트 지원 :** 초기 단계에서 서버의 위치를 모르기 때문에 네트워크 전체에 뿌리는 브로드캐스트 방식이 필수적이며, UDP는 이를 효율적으로 지원
3. **오버헤드 감소 :** 단순한 주소 할당 과정에서 신뢰성 보장보다 빠른 전송과 적은 자원 소모가 유리

---

## DHCP에서, IP 주소 말고 추가로 제공해주는 정보가 있나요?

### 제공 정보 항목
* **Subnet Mask :** 네트워크와 호스트 부분을 구분하는 마스크 정보.
* **Default Gateway :** 외부 네트워크로 나가는 경로인 라우터 주소.
* **DNS Server :** 도메인 이름을 IP 주소로 변환해 주는 서버 주소.
* **Lease Time :** 할당받은 IP 주소를 사용할 수 있는 유효 기간.

---

## DHCP의 유효기간은 얼마나 긴가요?

### 유효 기간 특성
Lease Time : 네트워크 관리자의 설정에 따라 다르나 보통 8시간에서 24시간 사이로 설정. 클라이언트는 임대 기간의 50%가 지난 시점에 갱신을 요청하며, 성공 시 기간이 연장

---

## IP 주소는 무엇이며, 어떤 기능을 하고 있나요?

### 정의 및 기능
IP 주소 : 네트워크상에서 장치들을 식별하기 위해 부여된 논리적인 주소임.
* **Addressing :** 네트워크상의 각 호스트에 고유한 식별자를 부여함.
* **Routing :** 패킷이 목적지까지 전달될 수 있도록 경로를 결정하는 근거가 됨.

---

## IPv6는 IPv4의 주소 고갈 문제를 해결하기 위해 만들어졌지만, 아직도 수많은 기기가 IPv4를 사용하고 있습니다. 고갈 문제를 어떻게 해결할 수 있을까요?

### 해결 방법
1. **NAT :** 하나의 공인 IP를 여러 개의 사설 IP로 변환하여 사용
2. **Private IP :** 내부 네트워크에서만 사용하는 사설 주소 대역을 지정하여 공인 IP 소모를 줄임
3. **Subnetting :** 네트워크를 필요한 크기로 쪼개어 할당되지 않고 낭비되는 주소를 최소화

---

## IPv4와 IPv6의 차이에 대해 설명해 주세요.

### 주요 차이점
| 구분 | IPv4 | IPv6 |
| :--- | :--- | :--- |
| **주소 길이** | 32 bits | 128 bits |
| **표기 방식** | 10진수 4개 | 16진수 8개 |
| **주소 개수** | 약 43억 개 | 거의 무한대 |
| **보안성** | IPSec 옵션 선택 | IPSec 기본 지원 및 필수에 가까움 |
| **헤더 구조** | 가변 길이, 체크섬 포함 | 고정 길이, 체크섬 제외로 처리 속도 향상 |

---

## 수많은 사람들이 유동 IP를 사용하고 있지만, 수많은 공유기에서는 고정 주소를 제공하는 기능이 이미 존재합니다. 어떻게 가능한 걸까요?

### 구현 원리
Static DHCP / DHCP Reservation : 클라이언트의 고유한 물리 주소인 MAC Address를 특정 IP 주소와 수동으로 매핑. 공유기는 해당 MAC Address를 가진 기기가 접속하면 항상 예약된 동일한 IP 주소를 할당해 줌으로써 고정 IP 효과를 냄.

---

## IPv4를 사용하는 장비와 IPv6를 사용하는 같은 네트워크 내에서 통신이 가능한가요? 가능하다면 어떤 방법을 사용하나요?

### 통신 가능 여부 및 방법
직접 통신은 불가능하나 다음 전환 기술을 통해 가능함.
* **Dual Stack :** 장비가 IPv4와 IPv6 프로토콜 스택을 모두 탑재하여 두 방식을 동시에 지원함.
* **Tunneling :** IPv6 패킷을 IPv4 패킷 내부에 캡슐화하여 IPv4 네트워크를 통과하게 함.
* **Translation :** NAT64 / DNS64를 통해 주소 형식을 상호 변환함.

---

## IP가 송신자와 수신자를 정확하게 전송되는 것을 보장해 주나요?

### 신뢰성 여부
보장하지 않음. IP는 Best-effort delivery 방식을 사용하며 패킷의 손실, 중복, 순서 변경 등이 발생할 수 있는 비신뢰성 프로토콜임. 이러한 신뢰성 보장은 상위 계층인 TCP에서 담당함.

---

## IPv4에서 수행하는 Checksum과 TCP에서 수행하는 Checksum은 어떤 차이가 있나요?

### 상세 비교
* **IPv4 Checksum :** IP 헤더의 오류만을 검사함. 데이터 부분의 오류는 확인하지 않음. 라우터를 거칠 때마다 TTL 값이 변하므로 매번 재계산됨. (IPv6에서는 성능을 위해 삭제됨)
* **TCP Checksum :** 데이터 전체(헤더 및 데이터)와 의사 헤더(Pseudo Header)를 포함하여 검사함. 종단 간(End-to-End) 오류 검출을 목적으로 하며 전송 과정의 무결성을 보장함.