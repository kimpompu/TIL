# 260117 TIL

## 공개키와 대칭키에 대해 설명해 주세요.

### 대칭키
암호화와 복호화에 동일한 키를 사용하는 방식임. 연산 속도가 매우 빠르다는 장점이 있으나, 키를 송수신자 간에 안전하게 전달하는 키 분배 문제가 발생함.

### 공개키
암호화와 복호화에 서로 다른 키 쌍(공개키와 개인키)을 사용하는 방식임. 누구나 알 수 있는 공개키로 암호화하면 해당 개인키를 가진 사람만 복호화할 수 있음. 키 분배 문제는 해결되지만 대칭키 방식보다 연산 속도가 수백 배 느림.



---

## 왜 HTTPS 핸드셰이크 과정에서는 인증서를 사용하는 것 일까요?

### 사용 목적
1. **서버 식별 :** 접속한 서버가 신뢰할 수 있는 기관이 보증한 실제 서버인지 확인하여 중간자 공격을 방지함.
2. **공개키 전달 :** 서버의 공개키를 안전하게 클라이언트에게 전달하기 위함임. 인증서 내부에는 서버의 공개키가 포함되어 있으며, 신뢰받는 기관의 전자 서명으로 보호됨.



---

## SSL과 TLS의 차이는 무엇인가요?

### 정의 및 발전 과정
둘 다 전송 계층 보안을 위한 프로토콜임. 보안 소켓 계층(SSL)이 먼저 개발되었으며, 이를 표준화하여 계승한 것이 전송 계층 보안(TLS)임. 보안 취약점 문제로 인해 현재 SSL 모든 버전은 퇴출되었으며, 실제 통신에는 TLS 1.2 또는 1.3 버전이 사용됨.

---

## 웹소켓과 소켓 통신의 차이에 대해 설명해 주세요.

### 핵심 차이점
* **소켓 통신 :** 전송 계층(TCP/UDP)에서 직접 통신하는 네트워크 인터페이스임. 특정 프로토콜에 종속되지 않는 저수준 통신임.
* **웹소켓 :** HTTP 프로토콜 위에서 동작하는 응용 계층 프로토콜임. 웹 브라우저와 서버 간의 전이중 통신을 지원하며, 최초 연결은 HTTP 핸드셰이크를 통해 이루어짐.



---

## 소켓과 포트의 차이가 무엇인가요?

### 개념 정의
* **포트 :** 호스트 내부에서 실행 중인 프로세스를 식별하기 위한 논리적인 번호임.
* **소켓 :** 네트워크 통신의 끝점을 의미함. 아이피 주소와 포트 번호, 프로토콜이 결합된 형태이며 운영체제에서 통신을 수행하는 도구로 관리됨.

---

## 여러 소켓이 있다고 할 때, 그 소켓의 포트 번호는 모두 다른가요?

### 사실 관계
포트 번호는 같을 수 있음. 서버 소켓은 하나의 포트(예 : 80번)를 열어두고 여러 클라이언트의 접속을 받아들임. 운영체제는 송신지 아이피, 송신지 포트, 수신지 아이피, 수신지 포트, 프로토콜이라는 5가지 정보를 조합하여 각 소켓을 유일하게 식별함.

---

## 사용자의 요청이 무수히 많아지면, 소켓도 무수히 생성되나요?

### 현상 설명
맞음. 클라이언트와 서버 간의 연결이 확립될 때마다 서버에는 새로운 소켓이 생성됨. 다만 운영체제가 관리할 수 있는 파일 기술자(File Descriptor)의 개수나 메모리 자원의 한계에 따라 생성 가능한 최대 소켓 수는 제한됨.

---

## HTTP/1.1과 HTTP/2의 차이점은 무엇인가요?

### 주요 개선 사항
* **HTTP 1.1 :** 요청 하나당 응답 하나를 순차적으로 처리함. 여러 자원을 받을 때 대기 시간이 길어짐.
* **HTTP 2 :** 하나의 연결에서 여러 개의 스트림을 사용하여 데이터를 동시에 주고받는 멀티플렉싱을 지원함. 헤더 압축과 서버 푸시 기능을 통해 성능을 대폭 개선함.



---

## HOL Blocking 에 대해 설명해 주세요.

### 정의 및 원인
헤드 오브 라인 블로킹은 네트워크 큐의 맨 앞에 있는 패킷이 처리되지 못해 뒤에 있는 패킷들이 대기하게 되는 지연 현상임. 
* **HTTP 1.1 :** 이전 요청이 완료되어야 다음 요청을 처리할 수 있어 발생함.
* **HTTP 2 :** HTTP 레벨의 문제는 해결했으나, 전송 계층(TCP)에서 패킷 손실 시 전체 스트림이 멈추는 TCP 수준의 블로킹이 여전히 존재함.



---

## HTTP/3.0의 주요 특징에 대해 설명해 주세요.

### 핵심 기술
* **퀵(QUIC) 프로토콜 사용 :** UDP 위에서 동작하며 TCP의 고질적인 지연 문제를 해결함.
* **연결 설정 단축 :** TCP 핸드셰이크와 티엘에스 핸드셰이크를 통합하여 연결에 필요한 시간을 줄임.
* **독립적 스트림 :** 각 스트림이 독립적으로 패킷을 전송하므로, 하나의 패킷 손실이 다른 스트림에 영향을 주지 않아 TCP 수준의 블로킹 문제를 해결함.

---

## TCP와 UDP의 차이에 대해 설명해 주세요.

### 특성 비교
* **TCP :** 연결 지향적이며 신뢰성을 보장함. 데이터의 순서를 보장하고 흐름 제어 및 혼잡 제어를 수행함. 속도는 상대적으로 느림.
* **UDP :** 비연결형이며 신뢰성을 보장하지 않음. 데이터가 잘 도착했는지 확인하지 않고 전송만 수행함. 속도가 빠르고 헤더가 가벼워 실시간 스트리밍에 적합함.



---

## Checksum이 무엇인가요?

### 정의
전송된 데이터에 오류가 있는지 검사하기 위해 데이터의 내용을 바탕으로 생성한 고정된 길이의 비트 값을 의미함. 수신 측에서 다시 계산한 값과 비교하여 데이터의 무결성을 확인함.

---

## TCP와 UDP 중 어느 프로토콜이 Checksum을 수행할까요?

### 수행 주체
둘 다 수행함. TCP에서는 필수 항목이며, UDP 규격상 포함되어 있음(IPv6 환경의 UDP에서는 필수임).

---

## 그렇다면, Checksum을 통해 오류를 정정할 수 있나요?

### 사실 정정
정정은 불가능함. 체크섬은 오류를 '탐지'하는 용도임. 오류가 발견되면 수신 측은 해당 패킷을 폐기함. TCP는 폐기된 패킷에 대해 재전송을 요청하여 오류를 복구하며, UDP는 단순히 버림.

---

## TCP가 신뢰성을 보장하는 방법에 대해 설명해 주세요.

### 신뢰성 보장 메커니즘
1. **일련 번호 :** 데이터에 순서를 부여하여 수신 측에서 순서대로 재조립함.
2. **확인 응답 :** 데이터를 잘 받았음을 송신 측에 알림.
3. **재전송 :** 일정 시간 내에 확인 응답이 오지 않으면 데이터를 다시 보냄.
4. **흐름 제어 :** 수신 측의 처리 속도에 맞춰 전송량을 조절함(슬라이딩 윈도우).

---

## TCP의 혼잡 제어 처리 방법에 대해 설명해 주세요.

### 단계별 제어
네트워크 내부의 혼잡도를 파악하여 데이터 전송량을 조절함.
1. **느린 시작 :** 초기 전송량을 작게 시작하여 지수적으로 늘림.
2. **혼잡 회피 :** 특정 임계치에 도달하면 선형적으로 완만하게 늘림.
3. **빠른 재전송 및 빠른 회복 :** 중복된 확인 응답을 수신하면 혼잡으로 판단하고 전송량을 조절하거나 재전송을 즉시 수행함.



---

## 왜 HTTP는 TCP를 사용하나요?

### 사유
HTTP는 웹 페이지의 텍스트, 이미지 등을 손실 없이 정확하게 전달해야 하는 프로토콜임. 데이터의 단 1비트만 어긋나도 파일이 깨지거나 실행되지 않으므로, 신뢰성을 보장하는 TCP가 적합함.

---

## 그렇다면, 왜 HTTP/3 에서는 UDP를 사용하나요? 위에서 언급한 UDP의 문제가 해결되었나요?

### 해결 방식
UDP 자체의 문제가 해결된 것이 아니라, UDP를 기반으로 만든 **퀵(QUIC)** 프로토콜이 신뢰성을 확보함. UDP의 빠른 속도는 유지하면서, TCP가 제공하던 재전송, 흐름 제어 등의 신뢰성 기능을 응용 계층(QUIC)에서 직접 구현하여 TCP의 한계(블로킹 현상 등)를 극복함.

---

## 그런데, 브라우저는 어떤 서버가 TCP를 쓰는지 UDP를 쓰는지 어떻게 알 수 있나요?

### 식별 방법
1. **Alt-Svc 헤더 :** 최초 HTTP/1.1 또는 HTTP/2 통신 시 서버가 응답 헤더에 '이 서비스는 퀵 프로토콜로도 이용 가능하다'는 정보를 담아 보냄.
2. **DNS 레코드 :** 최근에는 서비스 레코드(SVCB)나 HTTPS 리소스 레코드를 조회하여 연결 전 미리 확인하기도 함.

---

## 본인이 새로운 통신 프로토콜을 TCP나 UDP를 사용해서 구현한다고 하면, 어떤 기준으로 프로토콜을 선택하시겠어요?

### 선택 기준
* **신뢰성 우선 :** 데이터 손실이 치명적인 금융 거래, 파일 전송, 설정값 변경 등에는 TCP를 선택함.
* **실시간성 및 효율 우선 :** 약간의 데이터 손실보다 빠른 응답과 낮은 지연 시간이 중요한 게임, 화상 통화, 실시간 방송 등에는 UDP를 선택함. 
* **커스텀 신뢰성 필요 :** UDP의 속도가 필요하면서도 특정 데이터에 대해서만 신뢰성이 필요한 경우 UDP 위에 독자적인 제어 로직을 구현함.